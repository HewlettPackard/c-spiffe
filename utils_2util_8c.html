<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>C-SPIFFE Library: utils/util.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C-SPIFFE Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">C-SPIFFE Library for C extension for Spiffe platform.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cbdb8362360e11eafe2fa3bc74cf0ffd.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">util.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="utils_2util_8h_source.html">c-spiffe/utils/util.h</a>&quot;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for util.c:</div>
<div class="dyncontent">
<div class="center"><img src="utils_2util_8c__incl.png" border="0" usemap="#autils_2util_8c" alt=""/></div>
<map name="autils_2util_8c" id="autils_2util_8c">
<area shape="rect" title=" " alt="" coords="410,5,487,32"/>
<area shape="rect" href="utils_2util_8h.html" title=" " alt="" coords="265,80,387,107"/>
<area shape="rect" title=" " alt="" coords="533,229,597,256"/>
<area shape="rect" href="stb__ds_8h.html" title=" " alt="" coords="388,155,533,181"/>
<area shape="rect" href="error_8h.html" title=" " alt="" coords="5,155,137,181"/>
<area shape="rect" title=" " alt="" coords="161,155,264,181"/>
<area shape="rect" title=" " alt="" coords="289,155,363,181"/>
<area shape="rect" title=" " alt="" coords="343,229,411,256"/>
<area shape="rect" title=" " alt="" coords="435,229,497,256"/>
<area shape="rect" title=" " alt="" coords="41,229,102,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5e433f795e968cb88e8037fa283993d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_2util_8c.html#a5e433f795e968cb88e8037fa283993d5">STB_DS_IMPLEMENTATION</a></td></tr>
<tr class="separator:a5e433f795e968cb88e8037fa283993d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af1b73d26367ac4a8ce9becb5b70cebd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_2util_8c.html#af1b73d26367ac4a8ce9becb5b70cebd8">util_string_t_Free</a> (<a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a> str)</td></tr>
<tr class="separator:af1b73d26367ac4a8ce9becb5b70cebd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420fb9037561098b82c65139e4f61a72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_2util_8c.html#a420fb9037561098b82c65139e4f61a72">util_string_arr_t_Free</a> (<a class="el" href="utils_2util_8h.html#a58051424487a21d6ef4f0894b2bcc4a9">string_arr_t</a> str_arr)</td></tr>
<tr class="separator:a420fb9037561098b82c65139e4f61a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ff9517a683d0fc3a5f1169c2b45864"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_2util_8c.html#a43ff9517a683d0fc3a5f1169c2b45864">string_push</a> (<a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a> dst, const char *src)</td></tr>
<tr class="separator:a43ff9517a683d0fc3a5f1169c2b45864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed99386f2ed7d0cfe0f79b744e8fb737"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_2util_8c.html#aed99386f2ed7d0cfe0f79b744e8fb737">string_new</a> (const char *str_src)</td></tr>
<tr class="separator:aed99386f2ed7d0cfe0f79b744e8fb737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d7f8ee8c21b60b71a625b9bff043bf6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_2util_8c.html#a8d7f8ee8c21b60b71a625b9bff043bf6">string_new_range</a> (const char *begin, const char *end)</td></tr>
<tr class="separator:a8d7f8ee8c21b60b71a625b9bff043bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac735c1978682b1a57cba23c960e0bd14"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_2util_8c.html#ac735c1978682b1a57cba23c960e0bd14">empty_str</a> (const char *str)</td></tr>
<tr class="separator:ac735c1978682b1a57cba23c960e0bd14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7172eea62a1e9e1d822505a9940cf91"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_2util_8c.html#ac7172eea62a1e9e1d822505a9940cf91">string_contains</a> (const char *src, const char *str)</td></tr>
<tr class="separator:ac7172eea62a1e9e1d822505a9940cf91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c299f4dff0815f55b5c62e192d76cf2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_2util_8c.html#a3c299f4dff0815f55b5c62e192d76cf2">FILE_to_string</a> (FILE *f)</td></tr>
<tr class="separator:a3c299f4dff0815f55b5c62e192d76cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25d5f361f434ff423a13570fd5d2835"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utils_2util_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils_2util_8c.html#ad25d5f361f434ff423a13570fd5d2835">FILE_to_bytes</a> (FILE *f)</td></tr>
<tr class="separator:ad25d5f361f434ff423a13570fd5d2835"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5e433f795e968cb88e8037fa283993d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e433f795e968cb88e8037fa283993d5">&#9670;&nbsp;</a></span>STB_DS_IMPLEMENTATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STB_DS_IMPLEMENTATION</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac735c1978682b1a57cba23c960e0bd14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac735c1978682b1a57cba23c960e0bd14">&#9670;&nbsp;</a></span>empty_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool empty_str </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if a string is either NULL or empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>[in] null terminated string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if str is either NULL os str[0] == '\0', <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="ad25d5f361f434ff423a13570fd5d2835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25d5f361f434ff423a13570fd5d2835">&#9670;&nbsp;</a></span>FILE_to_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utils_2util_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* FILE_to_bytes </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a file into a stb array of bytes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>[in] file object pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An stb array of bytes containing the whole file content. The programmer should not make any assumption about the file cursor after the function call. Must be freed either using arrfree or util_string_t_Free functions. </dd></dl>

</div>
</div>
<a id="a3c299f4dff0815f55b5c62e192d76cf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c299f4dff0815f55b5c62e192d76cf2">&#9670;&nbsp;</a></span>FILE_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a> FILE_to_string </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a file into a stb string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>[in] file object pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An stb string containing the whole file content. The programmer should not make any assumption about the file cursor after the function call. Must be freed using either arrfree or util_string_t_Free functions. </dd></dl>

</div>
</div>
<a id="ac7172eea62a1e9e1d822505a9940cf91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7172eea62a1e9e1d822505a9940cf91">&#9670;&nbsp;</a></span>string_contains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool string_contains </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if a string contains another.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>[in] Haystack string. </td></tr>
    <tr><td class="paramname">str</td><td>[in] Needle string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Same behaviour as strstr(src, str) != NULL </dd></dl>

</div>
</div>
<a id="aed99386f2ed7d0cfe0f79b744e8fb737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed99386f2ed7d0cfe0f79b744e8fb737">&#9670;&nbsp;</a></span>string_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a> string_new </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str_src</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>New stb string from a C-string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str_src</td><td>[in] Null terminated string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An stb string as a copy of the string passed as parameter. Must be freed using either arrfree or util_string_t_Free functions. </dd></dl>

</div>
</div>
<a id="a8d7f8ee8c21b60b71a625b9bff043bf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d7f8ee8c21b60b71a625b9bff043bf6">&#9670;&nbsp;</a></span>string_new_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a> string_new_range </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>New stb string from a string range.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">begin</td><td>[in] Begining of the string range. </td></tr>
    <tr><td class="paramname">end</td><td>[in] Ending of the string range. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An stb string as a copy of the string in range [begin, end). A null character is placed at the end. Must be freed using either arrfree or util_string_t_Free functions. </dd></dl>

</div>
</div>
<a id="a43ff9517a683d0fc3a5f1169c2b45864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43ff9517a683d0fc3a5f1169c2b45864">&#9670;&nbsp;</a></span>string_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a> string_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a>&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Concatenates an stb string and returns its new address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst</td><td>[in] stb string to be concatenated. </td></tr>
    <tr><td class="paramname">src</td><td>[in] Null terminated string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An stb string with dst and src concatenation. The variable holding the old dst value must be updated by the function return value. Must be freed using wither arrfree or util_string_t_Free functions when no longer needed. </dd></dl>

</div>
</div>
<a id="a420fb9037561098b82c65139e4f61a72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a420fb9037561098b82c65139e4f61a72">&#9670;&nbsp;</a></span>util_string_arr_t_Free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void util_string_arr_t_Free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utils_2util_8h.html#a58051424487a21d6ef4f0894b2bcc4a9">string_arr_t</a>&#160;</td>
          <td class="paramname"><em>str_arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees stb array of stb strings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str_arr</td><td>[in] Deallocates array. If <code>NULL</code> is passed, it has no effects./ </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af1b73d26367ac4a8ce9becb5b70cebd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1b73d26367ac4a8ce9becb5b70cebd8">&#9670;&nbsp;</a></span>util_string_t_Free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void util_string_t_Free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="utils_2util_8h.html#ab0dcbec9b4b3c60b939b1095f93cb1b9">string_t</a>&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees stb string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>[in] Deallocates stb string. If <code>NULL</code> is passed, it has no effects./ </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
